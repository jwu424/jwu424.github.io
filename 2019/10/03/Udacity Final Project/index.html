<!DOCTYPE html><html lang="en"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"><title>Udacity Final Project | Pinecone</title><meta name="description" content="Udacity Final Project"><meta name="keywords" content="AB Testing"><meta name="author" content="Pinecone"><meta name="copyright" content="Pinecone"><meta name="format-detection" content="telephone=no"><link rel="shortcut icon" href="/img/favicon.ico"><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/font-awesome@latest/css/font-awesome.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@latest/dist/jquery.fancybox.min.css"><meta http-equiv="x-dns-prefetch-control" content="on"><link rel="canonical" href="http://jwu424@github.io/2019/10/03/Udacity%20Final%20Project/"><meta name="twitter:card" content="summary_large_image"><meta name="twitter:title" content="Udacity Final Project"><meta name="twitter:description" content="Udacity Final Project"><meta name="twitter:image" content="http://jwu424@github.io/img/background1.jpg"><meta property="og:type" content="article"><meta property="og:title" content="Udacity Final Project"><meta property="og:url" content="http://jwu424@github.io/2019/10/03/Udacity%20Final%20Project/"><meta property="og:site_name" content="Pinecone"><meta property="og:description" content="Udacity Final Project"><meta property="og:image" content="http://jwu424@github.io/img/background1.jpg"><meta http-equiv="Cache-Control" content="no-transform"><meta http-equiv="Cache-Control" content="no-siteapp"><link rel="prev" title="Summary of AB testing articles 1" href="http://jwu424@github.io/2019/10/12/AB%20Test%20Summary%201/"><link rel="next" title="Machine Learning Interview Questions" href="http://jwu424@github.io/2019/10/03/Machine%20Learning/"><link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Titillium+Web"><script>var GLOBAL_CONFIG = { 
  root: '/',
  algolia: undefined,
  localSearch: undefined,
  translate: undefined,
  highlight_copy: 'true',
  highlight_lang: 'true',
  highlight_shrink: 'true',
  copy: {
    success: 'Copy successfully',
    error: 'Copy error',
    noSupport: 'The browser does not support'
  },
  bookmark: {
    title: 'Bookmark',
    message_prev: 'Press',
    message_next: 'to bookmark this page'
  },
  runtime_unit: 'days',
  copyright: undefined,
  copy_copyright_js: false
  
}</script></head><body><canvas class="fireworks"></canvas><div id="header"> <div id="page-header"><span class="pull-left" id="blog_name"><a class="blog_title" id="site-name" href="/">Pinecone</a></span><i class="fa fa-bars fa-fw toggle-menu pull-right close" aria-hidden="true"></i><span class="pull-right menus"><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fa fa-home"></i><span> Home</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fa fa-archive"></i><span> Archives</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fa fa-tags"></i><span> Tags</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fa fa-folder-open"></i><span> Categories</span></a></div><div class="menus_item"><a class="site-page" href="/gallery/"><i class="fa-fw far fa-image"></i><span> Gallery</span></a></div><div class="menus_item"><a class="site-page"><i class="fa-fw fa fa-list" aria-hidden="true"></i><span> List</span><i class="fa fa-chevron-down menus-expand" aria-hidden="true"></i></a><ul class="menus_item_child"><li><a class="site-page" href="/music/"><i class="fa-fw fa fa-music"></i><span> Music</span></a></li><li><a class="site-page" href="/movies/"><i class="fa-fw fa fa-film"></i><span> Movie</span></a></li></ul></div><script>document.body.addEventListener('touchstart', function(){ });</script></div></span><span class="pull-right" id="search_button"></span></div></div><div id="mobile-sidebar"><div id="menu_mask"></div><div id="mobile-sidebar-menus"><div class="mobile_author_icon"><img class="lozad avatar_img" src="/img/avatar.png" onerror="onerror=null;src='/img/friend_404.gif'"></div><div class="mobile_post_data"><div class="mobile_data_item is_center"><div class="mobile_data_link"><a href="/archives/"><div class="headline">Articles</div><div class="length_num">7</div></a></div></div><div class="mobile_data_item is_center">      <div class="mobile_data_link"><a href="/tags/"><div class="headline">Tags</div><div class="length_num">3</div></a></div></div><div class="mobile_data_item is_center">     <div class="mobile_data_link"><a href="/categories/"><div class="headline">Categories</div><div class="length_num">2</div></a></div></div></div><hr><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fa fa-home"></i><span> Home</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fa fa-archive"></i><span> Archives</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fa fa-tags"></i><span> Tags</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fa fa-folder-open"></i><span> Categories</span></a></div><div class="menus_item"><a class="site-page" href="/gallery/"><i class="fa-fw far fa-image"></i><span> Gallery</span></a></div><div class="menus_item"><a class="site-page"><i class="fa-fw fa fa-list" aria-hidden="true"></i><span> List</span><i class="fa fa-chevron-down menus-expand" aria-hidden="true"></i></a><ul class="menus_item_child"><li><a class="site-page" href="/music/"><i class="fa-fw fa fa-music"></i><span> Music</span></a></li><li><a class="site-page" href="/movies/"><i class="fa-fw fa fa-film"></i><span> Movie</span></a></li></ul></div><script>document.body.addEventListener('touchstart', function(){ });</script></div></div><div id="mobile-sidebar-toc"><div class="toc_mobile_headline">Catalog</div><ol class="toc_mobile_items"><li class="toc_mobile_items-item toc_mobile_items-level-2"><a class="toc_mobile_items-link" href="#Experiment-Overview"><span class="toc_mobile_items-number">1.</span> <span class="toc_mobile_items-text">Experiment Overview</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-2"><a class="toc_mobile_items-link" href="#Metric-Choice"><span class="toc_mobile_items-number">2.</span> <span class="toc_mobile_items-text">Metric Choice</span></a><ol class="toc_mobile_items-child"><li class="toc_mobile_items-item toc_mobile_items-level-3"><a class="toc_mobile_items-link" href="#Question"><span class="toc_mobile_items-number">2.1.</span> <span class="toc_mobile_items-text">Question:</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-3"><a class="toc_mobile_items-link" href="#Answer"><span class="toc_mobile_items-number">2.2.</span> <span class="toc_mobile_items-text">Answer:</span></a></li></ol></li><li class="toc_mobile_items-item toc_mobile_items-level-2"><a class="toc_mobile_items-link" href="#Measuring-Variability"><span class="toc_mobile_items-number">3.</span> <span class="toc_mobile_items-text">Measuring Variability</span></a><ol class="toc_mobile_items-child"><li class="toc_mobile_items-item toc_mobile_items-level-3"><a class="toc_mobile_items-link" href="#Question-1"><span class="toc_mobile_items-number">3.1.</span> <span class="toc_mobile_items-text">Question:</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-3"><a class="toc_mobile_items-link" href="#Answer-1"><span class="toc_mobile_items-number">3.2.</span> <span class="toc_mobile_items-text">Answer:</span></a></li></ol></li><li class="toc_mobile_items-item toc_mobile_items-level-2"><a class="toc_mobile_items-link" href="#Sizing"><span class="toc_mobile_items-number">4.</span> <span class="toc_mobile_items-text">Sizing</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-2"><a class="toc_mobile_items-link" href="#Duration-vs-Exposure"><span class="toc_mobile_items-number">5.</span> <span class="toc_mobile_items-text">Duration vs. Exposure</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-2"><a class="toc_mobile_items-link" href="#Experiment-Analysis"><span class="toc_mobile_items-number">6.</span> <span class="toc_mobile_items-text">Experiment Analysis</span></a><ol class="toc_mobile_items-child"><li class="toc_mobile_items-item toc_mobile_items-level-3"><a class="toc_mobile_items-link" href="#Sanity-Checks"><span class="toc_mobile_items-number">6.1.</span> <span class="toc_mobile_items-text">Sanity Checks</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-3"><a class="toc_mobile_items-link" href="#Result-Analysis"><span class="toc_mobile_items-number">6.2.</span> <span class="toc_mobile_items-text">Result Analysis</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-3"><a class="toc_mobile_items-link" href="#Sign-Tests"><span class="toc_mobile_items-number">6.3.</span> <span class="toc_mobile_items-text">Sign Tests</span></a></li></ol></li><li class="toc_mobile_items-item toc_mobile_items-level-2"><a class="toc_mobile_items-link" href="#Recommendation"><span class="toc_mobile_items-number">7.</span> <span class="toc_mobile_items-text">Recommendation</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-2"><a class="toc_mobile_items-link" href="#Follow-Up-Experiment"><span class="toc_mobile_items-number">8.</span> <span class="toc_mobile_items-text">Follow-Up Experiment</span></a></li></ol></div></div><div id="body-wrap"><i class="fa fa-arrow-right" id="toggle-sidebar" aria-hidden="true">     </i><div class="auto_open" id="sidebar"><div class="sidebar-toc"><div class="sidebar-toc__title">Catalog</div><div class="sidebar-toc__progress"><span class="progress-notice">You've read</span><span class="progress-num">0</span><span class="progress-percentage">%</span><div class="sidebar-toc__progress-bar">     </div></div><div class="sidebar-toc__content"><ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#Experiment-Overview"><span class="toc-number">1.</span> <span class="toc-text">Experiment Overview</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Metric-Choice"><span class="toc-number">2.</span> <span class="toc-text">Metric Choice</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Question"><span class="toc-number">2.1.</span> <span class="toc-text">Question:</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Answer"><span class="toc-number">2.2.</span> <span class="toc-text">Answer:</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Measuring-Variability"><span class="toc-number">3.</span> <span class="toc-text">Measuring Variability</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Question-1"><span class="toc-number">3.1.</span> <span class="toc-text">Question:</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Answer-1"><span class="toc-number">3.2.</span> <span class="toc-text">Answer:</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Sizing"><span class="toc-number">4.</span> <span class="toc-text">Sizing</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Duration-vs-Exposure"><span class="toc-number">5.</span> <span class="toc-text">Duration vs. Exposure</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Experiment-Analysis"><span class="toc-number">6.</span> <span class="toc-text">Experiment Analysis</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Sanity-Checks"><span class="toc-number">6.1.</span> <span class="toc-text">Sanity Checks</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Result-Analysis"><span class="toc-number">6.2.</span> <span class="toc-text">Result Analysis</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Sign-Tests"><span class="toc-number">6.3.</span> <span class="toc-text">Sign Tests</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Recommendation"><span class="toc-number">7.</span> <span class="toc-text">Recommendation</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Follow-Up-Experiment"><span class="toc-number">8.</span> <span class="toc-text">Follow-Up Experiment</span></a></li></ol></div></div></div><div id="content-outer"><div id="top-container" style="background-image: url(/img/background1.jpg)"><div id="post-info"><div id="post-title"><div class="posttitle">Udacity Final Project</div></div><div id="post-meta"><time class="post-meta__date"><i class="fa fa-calendar" aria-hidden="true"></i> Created 2019-10-03<span class="post-meta__separator">|</span><i class="fa fa-history" aria-hidden="true"></i> Updated 2019-10-24</time><span class="post-meta__separator mobile_hidden">|</span><span class="mobile_hidden"><i class="fa fa-inbox post-meta__icon" aria-hidden="true"></i><a class="post-meta__categories" href="/categories/AB-Testing/">AB Testing</a></span><div class="post-meta-wordcount"><span>Word count: </span><span class="word-count">3k</span><span class="post-meta__separator">|</span><span>Reading time: 18 min</span><span class="post-meta__separator">|</span><span>Post View: </span><span id="busuanzi_value_page_pv"></span></div></div></div></div><div class="layout layout_post" id="content-inner">   <article id="post"><div class="article-container" id="post-content"><h2 id="Experiment-Overview"><a href="#Experiment-Overview" class="headerlink" title="Experiment Overview"></a>Experiment Overview</h2><p>At the time of this experiment, Udacity courses currently have two options on the home page: “start free trial”, and “access course materials”. If the student clicks “start free trial”, they will be asked to enter their credit card information, and then they will be enrolled in a free trial for the paid version of the course. After 14 days, they will automatically be charged unless they cancel first. If the student clicks “access course materials”, they will be able to view the videos and take the quizzes for free, but they will not receive coaching support or a verified certificate, and they will not submit their final project for feedback.</p>
<p>In the experiment, Udacity tested a change where if the student clicked “start free trial”, they were asked how much time they had available to devote to the course. If the student indicated 5 or more hours per week, they would be taken through the checkout process as usual. If they indicated fewer than 5 hours per week, a message would appear indicating that Udacity courses usually require a greater time commitment for successful completion, and suggesting that the student might like to access the course materials for free. At this point, the student would have the option to continue enrolling in the free trial, or access the course materials for free instead. The screenshot below shows what the experiment looks like.</p>
<p><img alt="page4" data-src="image/page4.png" class="lozad"></p>
<p>The hypothesis was that this might set clearer expectations for students upfront, thus reducing the number of frustrated students who left the free trial because they didn’t have enough time—without significantly reducing the number of students to continue past the free trial and eventually complete the course. If this hypothesis held true, Udacity could improve the overall student experience and improve coaches’ capacity to support students who are likely to complete the course.</p>
<p><strong>The unit of diversion is a cookie</strong>, although if the student enrolls in the free trial, they are tracked by user-id from that point forward. The same user-id cannot enroll in the free trial twice. For users that do not enroll, their user-id is not tracked in the experiment, even if they were signed in when they visited the course overview page.</p>
<h2 id="Metric-Choice"><a href="#Metric-Choice" class="headerlink" title="Metric Choice"></a>Metric Choice</h2><h3 id="Question"><a href="#Question" class="headerlink" title="Question:"></a><strong>Question:</strong></h3><p>Which of the following metrics would you choose to measure for this experiment and why? For each metric you choose, indicate <strong>whether you would use it as an invariant metric or an evaluation metric</strong>. The practical significance boundary for each metric, that is, the difference that would have to be observed before that was a meaningful change for the business, is given in parentheses. All practical significance boundaries are given as absolute changes.</p>
<p>Any place “unique cookies” are mentioned, the uniqueness is determined by day. (That is, the same cookie visiting on different days would be counted twice.) User-ids are automatically unique since the site does not allow the same user-id to enroll twice.</p>
<ul>
<li>Number of cookies: That is, number of unique cookies to view the course overview page. (dmin=3000)</li>
<li>Number of user-ids: That is, number of users who enroll in the free trial. (dmin=50)</li>
<li>Number of clicks: That is, number of unique cookies to click the “Start free trial” button (which happens before the free trial screener is trigger). (dmin=240)</li>
<li>Click-through-probability: That is, number of unique cookies to click the “Start free trial” button divided by number of unique cookies to view the course overview page. (dmin=0.01)</li>
<li>Gross conversion: That is, number of user-ids to complete checkout and enroll in the free trial divided by number of unique cookies to click the “Start free trial” button. (dmin= 0.01)</li>
<li>Retention: That is, number of user-ids to remain enrolled past the 14-day boundary (and thus make at least one payment) divided by number of user-ids to complete checkout. (dmin=0.01)</li>
<li>Net conversion: That is, number of user-ids to remain enrolled past the 14-day boundary (and thus make at least one payment) divided by the number of unique cookies to click the “Start free trial” button. (dmin= 0.0075)</li>
</ul>
<p>You should also decide now what results you will be looking for in order to launch the experiment. Would a change in any one of your evaluation metrics be sufficient? Would you want to see multiple metrics all move or not move at the same time in order to launch? This decision will inform your choices while designing the experiment.</p>
<h3 id="Answer"><a href="#Answer" class="headerlink" title="Answer:"></a><strong>Answer:</strong></h3><p>invariant metric：</p>
<ul>
<li>Number of cookies: can’t be affected by the experiment, and also it is the unit of diversion. Thus, it will be totally random.</li>
<li>Number of clicks: can’t be affected by the experiment, since happens before the experiment.</li>
<li>CTP: happens before the experiment</li>
</ul>
<p>evaluation metric:</p>
<ul>
<li>Gross conversion: happens after the click. The number of students that enroll in the free trial will less than the control group, cause students can make a decision.</li>
<li>Retention: affected by the experiments and actually it will increase. Since the students enroll in the experiment know they will spend more time on the course, thus the retention will higher than the control group, which may be disappointed in the learning process because of their limited time.</li>
<li>Net conversion: will be affected by the experiment. Since the cookies should roughly be the same in the two groups, but the number of user-ids in experiments will decrease due to the suggestion on the new pages.</li>
</ul>
<p>Overall:</p>
<ul>
<li><p>The ultimate goals of the experiment:</p>
<ul>
<li>The number of pay should not decrease</li>
<li>The students disappointed due to their limit time should decrease</li>
</ul>
</li>
<li><p>The metrics used:</p>
<ul>
<li>Gross conversion: should decrease</li>
<li>Retention: should increase</li>
<li>Net conversion: should decrease</li>
</ul>
</li>
</ul>
<p>Note:</p>
<p> One thing we should note that Number of user-ids is either invariant metric or evaluation metric. Reasons:</p>
<ul>
<li>It is affected by the experiment. Since some students will not enroll in due to their limit time and decide to access the course materials for free instead or some others.</li>
<li>the number of visitors may be different between the experiment and control groups.</li>
</ul>
<h2 id="Measuring-Variability"><a href="#Measuring-Variability" class="headerlink" title="Measuring Variability"></a>Measuring Variability</h2><p>This list contains rough estimates of the baseline values for these metrics (again, these numbers have been changed from Udacity’s true numbers).</p>
<ul>
<li>Unique cookies to view page per day: 40000</li>
<li>Unique cookies to click “Start free trial” per day: 3200</li>
<li>Enrollments per day: 660</li>
<li>Click-through-probability on “Start free trial”: 0.08</li>
<li>Probability of enrolling, given click: 0.20625</li>
<li>Probability of payment, given enroll: 0.53</li>
<li>Probability of payment, given click: 0.1093125</li>
</ul>
<h3 id="Question-1"><a href="#Question-1" class="headerlink" title="Question:"></a><strong>Question:</strong></h3><p>For each metric you selected as an evaluation metric, estimate its standard deviation analytically given a sample size of 5000 cookies visiting the course overview page. Do you expect the analytic estimates to be accurate? That is, for which metrics, if any, would you want to collect an empirical estimate of the variability if you had time?</p>
<h3 id="Answer-1"><a href="#Answer-1" class="headerlink" title="Answer:"></a><strong>Answer:</strong></h3><ul>
<li><p>Gross conversion: </p>
<p>Number of click: N = 5000 * 0.08 = 400</p>
<p>$SD = \sqrt{\frac{p(1-p)}{N}}=\sqrt{\frac{0.20625(1-0.20625)}{400}} \approx 0.0202$</p>
</li>
<li><p>Retention: </p>
<p>Number of Enroll: N = 5000 <em> 0.08 </em> 0.20625 = 82.5</p>
<p>$SD = \sqrt{\frac{p(1-p)}{N}}=\sqrt{\frac{0.53(1-0.53)}{82.5}} \approx 0.0549$</p>
</li>
<li><p>Net conversion: </p>
<p>$SD = \sqrt{\frac{p(1-p)}{N}}=\sqrt{\frac{0.1093(1-0.1093)}{400}} \approx 0.0156$</p>
</li>
</ul>
<p>I would expect the analytic estimates of gross conversion and net conversion to be accurate, since the unit of analysis is same as unit of diversion. For retention, it would be helper if we can collect an empirical estimate of variability and the empirical variance of the retention is more likely to be higher than the analytic variances. </p>
<h2 id="Sizing"><a href="#Sizing" class="headerlink" title="Sizing"></a><strong>Sizing</strong></h2><p><strong>Question:</strong> </p>
<p>Using the analytic estimates of variance, how many page views total (across both groups) would you need to collect to adequately power the experiment? Use an alpha of 0.05 and a beta of 0.2. Make sure you have enough power for each metric. Will you use Bonferroni correction?</p>
<p><strong>Answer:</strong></p>
<p>First, I will not use Bonferroni correction and since we have 3 metrics, I will calculate for each one and choose the largest one.</p>
<p>The online calculator: <a href="https://www.evanmiller.org/ab-testing/sample-size.html" target="_blank" rel="noopener">https://www.evanmiller.org/ab-testing/sample-size.html</a></p>
<ul>
<li><p>Gross conversion: </p>
<p>dmin = 0.01, baseline = 0.20625, unique cookies needed for one group = 25835</p>
<p>Pageviews = 2 <em> 25835 </em> 40000 / 3200 = 645875</p>
</li>
<li><p>Retention: dmin = 0.01,  baseline = 0.53, unique cookies needed for one group = 39115</p>
<p>Pageviews = 2 <em> 39115 </em> 40000 / 3200 = 4741212</p>
</li>
<li><p>Net conversion: dmin = 0.0075,  baseline = 0.1093125, unique cookies needed for one group = 27413</p>
<p>Pageviews = 2 <em> 27413 </em> 40000 / 3200 = 685325</p>
</li>
</ul>
<p>Above all, we can see that we need 4741212 pageviews.</p>
<h2 id="Duration-vs-Exposure"><a href="#Duration-vs-Exposure" class="headerlink" title="Duration vs. Exposure"></a>Duration vs. Exposure</h2><p><strong>Question:</strong></p>
<p>What percentage of Udacity’s traffic would you divert to this experiment (assuming there were no other experiments you wanted to run simultaneously)? Is the change risky enough that you wouldn’t want to run on all traffic? Given the percentage you chose, how long would the experiment take to run, using the analytic estimates of variance? If the answer is longer than a few weeks, then this is unreasonably long, and you should reconsider an earlier decision.</p>
<p><strong>Answer:</strong></p>
<p>In the last question, we see that the pageviews used is 4741212. In order to get this pageviews, even if we use all traffic, we still need 118.5 days(4741212/40000 = 118.5), which is definitely not a good idea. </p>
<p>Then, we try to use the second large pageviews. (685325/40000=17), which is good.</p>
<p>However, it seems that we should slow down, since the free trial last 14 days. And the behavior of people in the field of education is quite difficult to analyze and the trends are hard to detect in 2-3 weeks. So, we set the fraction at 0.6 and it gives the number: 29 days.</p>
<p>Risk:</p>
<p>It’s necessary to consider the risk of commercial goal, but we think the risk is low. First, the actual number of clicks and pageviews will not decrease, cause they are not affected by the experiment. Second, even though we assume the number of payments will decrease, it actually is acceptable, since we save time of mentors and students. And students who don’t have enough time right now may come back to take courses when they are free, instead of being disappointed and never come back. </p>
<p>For privacy violation, there is no risk, since we don’t collect the information of users, except a little piece of information of their plan. </p>
<h2 id="Experiment-Analysis"><a href="#Experiment-Analysis" class="headerlink" title="Experiment Analysis"></a>Experiment Analysis</h2><p>Data: <a href="https://docs.google.com/spreadsheets/d/1Mu5u9GrybDdska-ljPXyBjTpdZIUev_6i7t4LRDfXM8/edit#gid=0" target="_blank" rel="noopener">https://docs.google.com/spreadsheets/d/1Mu5u9GrybDdska-ljPXyBjTpdZIUev_6i7t4LRDfXM8/edit#gid=0</a></p>
<h3 id="Sanity-Checks"><a href="#Sanity-Checks" class="headerlink" title="Sanity Checks"></a>Sanity Checks</h3><p><strong>Question:</strong></p>
<p>Start by checking whether your invariant metrics are equivalent between the two groups. If the invariant metric is a simple count that should be randomly split between the 2 groups, you can use a binomial test as demonstrated in Lesson 5. Otherwise, you will need to construct a confidence interval for a difference in proportions using a similar strategy as in Lesson 1, then check whether the difference between group values falls within that confidence level. If your sanity checks fail, look at the day by day data and see if you can offer any insight into what is causing the problem.</p>
<p><strong>Answer:</strong></p>
<ul>
<li><p>calculation.</p>
<p>Control group:           Clicks = 28378, Pageviews = 345543</p>
<p>Experimental group: Clicks =  28325, Pageviews = 344660</p>
</li>
<li><p>Number of cookies: </p>
<ul>
<li><p>$SE_{cookies} = \sqrt{\frac{0.5*0.5}{345543+344660}}\approx0.0006$</p>
</li>
<li><p>$M = SE_{cookies}*1.96 = 0.00118$</p>
</li>
<li>$CI:[0.4988, 0.5012]$</li>
<li>Pass</li>
</ul>
</li>
<li><p>Number of clicks：</p>
<ul>
<li><p>$SE_{clicks} = \sqrt{\frac{0.5*0.5}{28378+28325}}\approx0.0021$</p>
</li>
<li><p>$M = SE_{clicks}*1.96 = 0.0042$</p>
</li>
<li>$CI:[0.4959, 0.5042]$</li>
<li>Pass</li>
</ul>
</li>
<li><p>CTP:</p>
<ul>
<li>$p_{pool} = \frac{28378+28325}{345543+344660}=0.0822$</li>
<li><p>$SE_{CTP} = \sqrt{\frac{0.0822*(1-0.0822)}{1/345543+1/344660}}\approx 0.0007$</p>
</li>
<li><p>$M = SE_{CTP}*1.96 = 0.0013$</p>
</li>
<li>$\hat d = 28325 / 344660 - 28378 / 345543=0.00006$</li>
<li>$CI:[-0.0013, 0.0013]$</li>
<li>Pass, $\hat d \in CI$</li>
</ul>
</li>
</ul>
<h3 id="Result-Analysis"><a href="#Result-Analysis" class="headerlink" title="Result Analysis"></a>Result Analysis</h3><p><strong>Questions:</strong></p>
<p>Next, for your evaluation metrics, calculate a confidence interval for the difference between the experiment and control groups, and check whether each metric is statistically and/or practically significance. A metric is statistically significant if the confidence interval does not include 0 (that is, you can be confident there was a change), and it is practically significant if the confidence interval does not include the practical significance boundary (that is, you can be confident there is a change that matters to the business.)</p>
<p><strong>Answers:</strong></p>
<p>We will not choose Bonferroni correction, since we only have two metrics and if use Bonferroni correction, it is too conservative, since CI will be wider. Another reason is that these two metrics are highly correlated and it is not suitable for Bonferroni correction. </p>
<ul>
<li><p>Calculation:</p>
<p>Note: Since for some days, we miss enrollments and payments, we just use the first 23 rows of data. </p>
<p>Control group:<br>Clicks =  17293     Enrollments =  3785    Payments =  2033<br>Experimental group:<br>Clicks =  17260     Enrollments =  3423     Payments =  1945</p>
</li>
<li><p>Gross conversion:</p>
<ul>
<li>$p_{pool} = (3785.0 + 3423.0) / (17293 + 17260) = 0.2086$</li>
<li>$SE = \sqrt{\frac{p<em>{pool}(1-p</em>{pool})}{1 / 17293 + 1 / 17260}} = 0.0044$</li>
<li>$M = SE *1.96=0.0086$</li>
<li>$\hat d = 3423 / 17260 - 3785 / 17293=-0.0206$</li>
<li>$CI:[-0.0291, -0.0120]$</li>
<li>$d_{min} = 0.1$</li>
<li>statistically significant and practical significant</li>
</ul>
</li>
<li><p>Net conversion:</p>
<ul>
<li>$p_{pool} = (2033.0 + 1945.0) / (17293 + 17260)= 0.1151$</li>
<li>$SE = \sqrt{\frac{p<em>{pool}(1-p</em>{pool})}{1 / 17293 + 1 / 17260}} = 0.0034$</li>
<li>$M = SE *1.96=0.0067$</li>
<li>$\hat d =1945 / 17260 - 2033 / 17293=0.0048$</li>
<li>$CI:[-0.0116, 0.0019]$</li>
<li>$d_{min} = 0.0075$</li>
<li>Not statistically significant and not practical significant</li>
</ul>
</li>
</ul>
<h3 id="Sign-Tests"><a href="#Sign-Tests" class="headerlink" title="Sign Tests"></a>Sign Tests</h3><ul>
<li><p>Online calculator: <a href="https://www.graphpad.com/quickcalcs/binomial1.cfm" target="_blank" rel="noopener">https://www.graphpad.com/quickcalcs/binomial1.cfm</a></p>
</li>
<li><p>Gross conversion: success = 4   total = 23</p>
<p>P-value:  0.0026</p>
</li>
<li><p>Net conversion: success = 10   total = 23</p>
<p>p-value = 0.6776</p>
</li>
<li><p>Eventually, the effective size and sign tests show that the site change would statistically significantly reduce the gross conversion, but would not affect the net conversion in a statistically significant way. The effect size test states this in the practical meaning also.</p>
</li>
</ul>
<h2 id="Recommendation"><a href="#Recommendation" class="headerlink" title="Recommendation"></a>Recommendation</h2><p><strong>Questions:</strong></p>
<p>Finally, make a recommendation. Would you launch this experiment, not launch it, dig deeper, run a follow-up experiment, or is it a judgment call? If you would dig deeper, explain what area you would investigate. If you would run follow-up experiments, briefIy describe that experiment. If it is a judgment call, explain what factors would be relevant to the decision.</p>
<p><strong>Answers:</strong></p>
<p>I would not launch the changes, since we can guarantee to get a positive result.</p>
<p>Pros:</p>
<ul>
<li>The difference of gross difference is practically significant and negative whereas the net conversion is not statistically significant. This is great, because the company will not have financial losses but lower costs.</li>
</ul>
<p>Cons:</p>
<ul>
<li>The interval for the difference in the case of the net conversion includes negative numbers. Therefore, the team has a risk to decrease incomes.</li>
<li>We have not gathered enough data to draw conclusions about the retention and because of this we can not evaluate correctly the difference between the control and experimental groups for a number of students who were disappointed in studying during the free period. Consequently, we do not know enrolled users would be disappointed in the learning process less and make more payments or would not.</li>
</ul>
<h2 id="Follow-Up-Experiment"><a href="#Follow-Up-Experiment" class="headerlink" title="Follow-Up Experiment"></a>Follow-Up Experiment</h2><p>First, let’s calculate the significance of the retention.</p>
<ul>
<li>$p_{pool} = (2033.0 + 1945.0) / (3785 + 3423)= 0.5519$</li>
<li>$SE = \sqrt{\frac{p<em>{pool}(1-p</em>{pool})}{1 / 3785 + 1 / 3423}} = 0.0117$</li>
<li>$M = SE *1.96=0.0230$</li>
<li>$\hat d = 1945.0 / 3423.0 - 2033.0 / 3785.0 = 0.0311$ </li>
<li>$CI:[(0.0081, 0.0541]$</li>
<li>$d_{min} = 0.01 $</li>
<li>Statistically significant but not practical significant</li>
</ul>
<p>Then we use the sign test.</p>
<p>Sign test<br>success = 13   total = 23</p>
<p>p-value = 0.6776, which is not statistical significance.</p>
<p><strong>Question:</strong><br>If the sign test does not agree with the confidence interval for the difference, see if you can figure out why.</p>
<p><strong>Answers:</strong><br>Let’s first calculate the mean and median of each metric.</p>
<p>Gross conversion difference<br>Median:  -0.0247583431053<br>Mean:  -0.0207845820293</p>
<p>Retention difference<br>Median:  0.0232108317215<br>Mean:  0.0333425074664</p>
<p>Net conversion difference<br>Median:  -0.00902785253995<br>Mean:  -0.00489685698981</p>
<p>From above, we can see that mean and median for retention difference are quite different, which is reason that<br>these two tests have different results. Another possible reason is the insufficient data. </p>
<p><strong>Question:</strong><br> If you wanted to reduce the number of frustrated students who cancel early in the course, what experiment would you try? Give a brief description of the change you would make, what your hypothesis would be about the effect of the change, what metrics you would want to measure, and what unit of diversion you would use. Include an explanation of each of your choices.</p>
<p><strong>Answers:</strong></p>
<p>I would like to modify the above experiment.</p>
<ul>
<li>Replace the changes of the above experiment with a detailed video, which talks about the way and qualities to become a successful learner.</li>
<li>Highlight the recommendations in the videos or tests of courses.</li>
<li>Students can take the exams without reading materials and videos.</li>
<li>Extend the duration of the experiment to 2 months, since the students’ behavior are very hard to detect and may be different with different background.<br>Any subsample may distort the distribution of the students and give us a distort result.</li>
<li>Monitor the financial index of the company, if any significant difference occurs, stop the experiment.</li>
</ul>
<p>Then, the rest of the experiment will be similar. </p>
<ul>
<li>Unit of diversion: the cookie.</li>
<li>Invariant metrics: the number of cookies and the click-through-probability.</li>
<li>Evaluation metrics: the gross conversion, the retention, and the net conversion.</li>
</ul>
<p>The hypothesizes about the behavior of our metrics are also stayed the same:</p>
<ul>
<li>the gross conversion should significantly decrease;</li>
<li>the retention should significantly increase;</li>
<li>the net conversion should not decrease.</li>
</ul>
<p>I expect the overcoming the negative results of the previous experiment and detecting the tendencies for all evaluation metrics.</p>
</div></article><div class="post-copyright"><div class="post-copyright__author"><span class="post-copyright-meta">Author: </span><span class="post-copyright-info"><a href="mailto:undefined" target="_blank" rel="noopener">Pinecone</a></span></div><div class="post-copyright__type"><span class="post-copyright-meta">Link: </span><span class="post-copyright-info"><a href="http://jwu424@github.io/2019/10/03/Udacity%20Final%20Project/">http://jwu424@github.io/2019/10/03/Udacity%20Final%20Project/</a></span></div><div class="post-copyright__notice"><span class="post-copyright-meta">Copyright Notice: </span><span class="post-copyright-info">All articles in this blog are licensed under <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" target="_blank" rel="noopener">CC BY-NC-SA 4.0</a> unless stating additionally.</span></div></div><div class="tag_share"><div class="post-meta__tag-list"><a class="post-meta__tags" href="/tags/AB-Testing/">AB Testing    </a></div><div class="post_share"><div class="social-share" data-image="/img/background1.jpg" data-sites="facebook,twitter,wechat,weibo,qq"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/social-share.js@1.0.16/dist/css/share.min.css"><script src="https://cdn.jsdelivr.net/npm/social-share.js@1.0.16/dist/js/social-share.min.js"></script></div></div><div class="post-reward"><a class="reward-button"><i class="fa fa-qrcode"></i> Donate<div class="reward-main"><ul class="reward-all"><li class="reward-item"><img class="lozad post-qr-code__img" src="/img/wechat.jpg"><div class="post-qr-code__desc">微信</div></li><li class="reward-item"><img class="lozad post-qr-code__img" src="/img/alipay.jpg"><div class="post-qr-code__desc">支付寶</div></li></ul></div></a></div><nav class="pagination_post" id="pagination"><div class="prev-post pull-left"><a href="/2019/10/12/AB%20Test%20Summary%201/"><img class="prev_cover lozad" data-src="/img/background5.jpg" onerror="onerror=null;src='/img/404.jpg'"><div class="label">Previous Post</div><div class="prev_info"><span>Summary of AB testing articles 1</span></div></a></div><div class="next-post pull-right"><a href="/2019/10/03/Machine%20Learning/"><img class="next_cover lozad" data-src="/img/background9.jpg" onerror="onerror=null;src='/img/404.jpg'"><div class="label">Next Post</div><div class="next_info"><span>Machine Learning Interview Questions</span></div></a></div></nav><div class="relatedPosts"><div class="relatedPosts_headline"><i class="fa fa-fw fa-thumbs-up" aria-hidden="true"></i><span> Recommend</span></div><div class="relatedPosts_list"><div class="relatedPosts_item"><a href="/2019/10/12/AB Test Summary 1/" title="Summary of AB testing articles 1"><img class="relatedPosts_cover lozad"data-src="/img/background5.jpg"><div class="relatedPosts_title">Summary of AB testing articles 1</div></a></div><div class="relatedPosts_item"><a href="/2019/10/13/AB Test Summary 2/" title="Summary of AB testing articles 2"><img class="relatedPosts_cover lozad"data-src="/img/background3.jpg"><div class="relatedPosts_title">Summary of AB testing articles 2</div></a></div><div class="relatedPosts_item"><a href="/2019/10/16/AB Test Summary 3/" title="Summary of AB testing articles 3"><img class="relatedPosts_cover lozad"data-src="/img/background4.jpg"><div class="relatedPosts_title">Summary of AB testing articles 3</div></a></div><div class="relatedPosts_item"><a href="/2019/10/19/AB Test Summary 4/" title="Summary of AB testing articles 4"><img class="relatedPosts_cover lozad"data-src="/img/background10.jpg"><div class="relatedPosts_title">Summary of AB testing articles 4</div></a></div><div class="relatedPosts_item"><a href="/2019/10/23/AB Test Summary 5/" title="Summary of AB testing articles 5"><img class="relatedPosts_cover lozad"data-src="/img/background10.jpg"><div class="relatedPosts_title">Summary of AB testing articles 5</div></a></div></div><div class="clear_both"></div></div></div></div><footer><div id="footer"><div class="copyright">&copy;2019 By Pinecone</div><div class="framework-info"><span>Driven </span><a href="http://hexo.io" target="_blank" rel="noopener"><span>Hexo</span></a><span class="footer-separator">|</span><span>Theme </span><a href="https://github.com/jerryc127/hexo-theme-butterfly" target="_blank" rel="noopener"><span>Butterfly</span></a></div><div class="footer_custom_text">Welcome!</div></div></footer></div><section class="rightside" id="rightside"><div id="rightside-config-hide"><i class="fa fa-book" id="readmode" title="Read Mode"></i><i class="fa fa-plus" id="font_plus" title="Increase font size"></i><i class="fa fa-minus" id="font_minus" title="Decrease font size"></i><i class="nightshift fa fa-moon-o" id="nightshift" title="Dark Mode"></i></div><div id="rightside-config-show"><div id="rightside_config" title="Setting"><i class="fa fa-cog" aria-hidden="true"></i></div><a id="to_comment" href="#post-comment" title="Scroll to comment"><i class="scroll_to_comment fa fa-comments">  </i></a><i class="fa fa-list-ul close" id="mobile-toc-button" title="Table of Contents" aria-hidden="true"></i><i class="fa fa-arrow-up" id="go-up" title="Back to top" aria-hidden="true"></i></div></section><script src="https://cdn.jsdelivr.net/npm/jquery@latest/dist/jquery.min.js"></script><script src="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@latest/dist/jquery.fancybox.min.js"></script><script src="https://cdn.jsdelivr.net/npm/js-cookie@2/src/js.cookie.min.js"></script><script src="/js/utils.js"></script><script src="/js/main.js"></script><script type="text/x-mathjax-config">MathJax.Hub.Config({
  tex2jax: {
    inlineMath: [ ['$','$'], ["\\(","\\)"]  ],
    processEscapes: true,
    skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code']
  },
  CommonHTML: {
    linebreaks: { automatic: true, width: "90% container" }
  },
  "HTML-CSS": { 
    linebreaks: { automatic: true, width: "90% container" }
  },
  "SVG": { 
    linebreaks: { automatic: true, width: "90% container" }
  }
});
</script><script type="text/x-mathjax-config">MathJax.Hub.Queue(function() {
  var all = MathJax.Hub.getAllJax(), i;
  for (i=0; i < all.length; i += 1) {
    all[i].SourceElement().parentNode.className += ' has-jax';
  }
});
</script><script src="https://cdn.jsdelivr.net/npm/mathjax/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script><script src="https://cdn.jsdelivr.net/npm/animejs@latest/anime.min.js"></script><script src="/js/third-party/fireworks.js"></script><script src="/js/nightshift.js"></script><script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><script src="https://cdn.jsdelivr.net/npm/instant.page@1.2.2/instantpage.min.js" type="module"></script><script src="https://cdn.jsdelivr.net/npm/lozad/dist/lozad.min.js"></script><script>const observer = lozad(); // lazy loads elements with default selector as '.lozad'
observer.observe();
</script></body></html>